 /* ----------- POTVRDA I DODAVANJE/IZMENA TIPA MANIFESTACIJE ----------- */

private void PotvrdiClick(object sender, RoutedEventArgs e)
{
    if (stariTip == null)
    {
        ((MainWindow)Application.Current.Windows[0]).addTip(noviTip); //kreiranje i dodavanje u listu svih tipova
    }
    else //izmena iz liste svih tipova i manifestacija koje su tog tipa
    {
        int ind1 = ((MainWindow)Application.Current.Windows[0]).TipoviManifestacija.IndexOf(stariTip);
        ((MainWindow)Application.Current.Windows[0]).TipoviManifestacija.RemoveAt(ind1);
        ((MainWindow)Application.Current.Windows[0]).TipoviManifestacija.Insert(ind1, noviTip);

        foreach (Manifestacija m in noviTip.ListaManifestacija)
        {
            m.Tip = noviTip;
            m.TipString = NoviTip.ToString();
        }
    }

    if (((Button)sender).Name.Equals("nastavak"))
    {
        noviTip = new TipManifestacije();

        this.DataContext = noviTip;

        oznTxtBox.Focus();
        Keyboard.Focus(oznTxtBox);
    }
    else
    {
        this.Close();
    }
}


https://github.com/majak96/hci-mapa-manifestacija/blob/4e4a142ebde3be371ec9d3913842f4f3d6a3cb11/MapaManifestacija/UnosTipa.xaml.cs