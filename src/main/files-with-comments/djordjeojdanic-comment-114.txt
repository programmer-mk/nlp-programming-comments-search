Osvezi vrednosti kolacica i mrvice

public static async Task<bool> RefreshAsync(string symbol = "SPY")
        {
            try
            {
                Cookie = string.Empty;
                Crumb = string.Empty;

                const string urlScrape = "https://finance.yahoo.com/quote/{0}?p={0}";

                var url = string.Format(urlScrape, symbol);

                var request = (HttpWebRequest)WebRequest.Create(url);

                request.CookieContainer = new CookieContainer();
                request.Method = "GET";

                using (var response = (HttpWebResponse)await request.GetResponseAsync().ConfigureAwait(false))
                {
                    var cookie = response.GetResponseHeader("Set-Cookie").Split(';')[0];

                    var html = string.Empty;

                    using (var stream = response.GetResponseStream())
                    {
                        if (stream != null)
                            html = await new StreamReader(stream).ReadToEndAsync().ConfigureAwait(false);
                    }

                    if (html.Length < 5000) return false;
                    var crumb = await GetCrumbAsync(html).ConfigureAwait(false);

                    if (crumb != null)
                    {
                        Cookie = cookie;
                        Crumb = crumb;
                        Debug.Print("Crumb: '{0}', Cookie: '{1}'", crumb, cookie);
                        return true;
                    }
                }
            }
            catch (Exception ex)
            {
                Debug.Print(ex.Message);
            }

            return false;
        }
