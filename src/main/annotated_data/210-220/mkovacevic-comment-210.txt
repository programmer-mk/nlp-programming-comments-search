/// <summary>
/// Generira se nasumični broj koji je jedinstven (važno u generiranju inicjalizacijskih vektora i ključeva enkripcije)
/// </summary>
/// <param name="length"></param>
/// <returns></returns>

public virtual byte[] GenerirajRandomBroj(int length)
{
    using (var randomNumberGenerator = new RNGCryptoServiceProvider())
    {
        var randomNumber = new byte[length];
        randomNumberGenerator.GetBytes(randomNumber);
        return randomNumber;
    }
}


https://github.com/foivz/r16003/blob/a772a8a7ee0a5da227257216ecc675c48e3699c1/CryptoNew/CryptoNew/Enkripcija.cs