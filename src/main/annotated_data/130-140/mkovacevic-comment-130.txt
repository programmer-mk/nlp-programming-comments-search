// ne radi ispravno ako blok ne moze ceo da stane u semu (voditi o ovome
// racuna kod rotiranja, gde ova situacija moze da se desi ako se rotira
// velik blok)

public override void pomeri(int dx, int dy)
{
    if (pocetak.X + dx < 0)
        dx = - pocetak.X;
    if (pocetak.Y + dy < 0)
        dy = - pocetak.Y;
    if (kraj.X + dx > sema.dajSirinu() - 1)
        dx = sema.dajSirinu() - 1 - kraj.X;
    if (kraj.Y + dy > sema.dajVisinu() - 1)
        dy = sema.dajVisinu() - 1 - kraj.Y;
    pocetak.X = pocetak.X + dx;
    pocetak.Y = pocetak.Y + dy;
    kraj.X = kraj.X + dx;
    kraj.Y = kraj.Y + dy;
    for (int i = 0; i < objekti.Count; i++)
         objekti[i].pomeri(dx, dy);
    poslednjiPomeraj = new Point(dx, dy);
}

https://github.com/stankela/Editor/blob/05ec1fc9b9b08494ce4f0a80bdb6e656d2a4b644/Editor/Sema.cs