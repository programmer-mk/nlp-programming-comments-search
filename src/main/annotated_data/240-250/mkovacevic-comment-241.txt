/// <summary>
/// Metoda vraca kumulativnu sumu niza kao novi niz.
/// </summary>
/// <param name="n"></param>
/// <returns></returns>

public static double[] CumSum(this IEnumerable<double> n)
{
    if (n == null)
        throw new Exception("Input values must not be null.");

    double[] result = new double[n.Count()];

    if (result.Length == 0)
        return result;

    IEnumerator<double> enumN = n.GetEnumerator();
    enumN.MoveNext();
    result[0] = enumN.Current;
    int count = 1;

    while (enumN.MoveNext())
    {
        result[count] = result[count - 1] + enumN.Current;
        count++;
    }
    return result;
}

https://github.com/jasaleja/SDD_projekat/blob/5dbfa6e73fd177e1e59790d950cf8761a5fc0fae/SDDLibrary/Utils/HelperMethods.cs